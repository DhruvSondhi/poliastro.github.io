Title: GSoC'18: improving propagators, adding natural and artificial perturbations at Poliastro
Date: 2018-08-05 14:00
Category: GSOC
Tags: GSoC, poliastro
slug: 2018-08-05-google-summer-of-code-2018
lang: en
Author: Nikita Astrakhantsev

It was a lazy Sunday at home and nothing prepared me for my girlfriend giving me the link for the GSoC'18 announcement page. I was considering participation a year ago, but had not enough resoluteness for that. This year I wanted it to be different so I started scrolling through the list of open-source organisations. As I am doing a PhD in theoretical physics now (defending in January 2019), I wanted the project to be scientific, not just some boring back-end development (in which I am anyway not strong enough). After a couple of iterations I converged to three space-aimed organisations. What shocked me, was the fact that mostly people of these organizations were not eager to even answer simple questions or it took them a week to provide a dataset for analysis. Only in Poliastro it was easy enough to get in touch with people and they (especially Juan Luis) turned out to be friendly and helpful. In such an atmosphere it is more than possible to work.

After looking project proposal list, I found what I am strong at and made a compilation of three project proposals into my own final [proposal](http://docs.poliastro.space/content/other/gsoc-18-astrakhantsev-proposal.pdf) and got accepted.

During the GSoC, I was writing a [blog on Medium](https://medium.com/@nikita.astronaut). You can actually see how I was becoming more and more tired till the end as the length of posts was gradually shrinking :) Still, there I was trying to describe all the things we've done and give all the links to merged pull requests. Below I will repeat that in more of a shorter manner, giving links to PRs and corresponding Medium posts :)

## So what was done (in chronological order)
1. [Bonding period](https://medium.com/@nikita.astronaut/my-bonding-period-working-for-gsoc18-poliastro-project-3aa10732b7c0). [Fixed non-smoothness in orbit-plotting](https://github.com/poliastro/poliastro/pull/320), [added `mean_motion` propagator](https://github.com/poliastro/poliastro/pull/322) and [made it possible to propagate `Orbit` to desired true anomaly](https://github.com/poliastro/poliastro/pull/334). [Added `J2_perturbation`](https://github.com/poliastro/poliastro/pull/341), [`atmospheric_drag`](https://github.com/poliastro/poliastro/pull/343), [fixed Newton method and `kepler` propagator convergence](https://github.com/poliastro/poliastro/pull/362).
2. [First milestone, first part](https://medium.com/@nikita.astronaut/the-end-of-may-in-gsoc18-poliastro-project-2d3ed2d6c9e0). [Wrote my own `DOP853` solver in python!!](https://github.com/poliastro/poliastro/pull/368) and [optimized `Orbit.sample` method using now accessible dense output](https://github.com/poliastro/poliastro/pull/379).
3. [First milestone, second part](https://medium.com/@nikita.astronaut/the-detective-story-3rd-body-perturbation-validation-8b260086ea0d). After a veeery long search for mistake in validation (it actually turned out to be mistake in BOOK, see in the pull request link), [added 3rd-body perturbation](https://github.com/poliastro/poliastro/pull/381).
4. [Second milestone, first part](https://medium.com/@nikita.astronaut/solar-drag-and-robust-kepler-equation-solution-694a4658c35b). [Added `solar_drag` perturbation](https://github.com/poliastro/poliastro/pull/388), [changed the source of docs download](https://github.com/poliastro/poliastro/pull/390) and [implemented better treatment of parabolic region in `mean_motion` propagator](https://github.com/poliastro/poliastro/pull/394).
5. [Second milestone, second part](https://medium.com/@nikita.astronaut/ending-of-2nd-evaluation-period-new-propagator-in-parabolic-region-j3-perturbation-continuous-17042f85d8b3). [Added `J3_perturbations`](https://github.com/poliastro/poliastro/pull/398) (there we could not validate one of the results and thus consider this feature experimental) and [artificial perturbations from the old Juan Luis's code](https://github.com/poliastro/poliastro/pull/400).
6. [Third milestone](https://medium.com/@nikita.astronaut/making-propagators-fast-again-and-more-a8df832ca7ec). [Made propagators fasted by using `numba`](https://github.com/poliastro/poliastro/pull/409) and [even more faster](https://github.com/poliastro/poliastro/pull/413), [added continuous benchmarking of propagators](https://github.com/poliastro/poliastro-benchmarks/pull/16) and [spent some time documenting and demonstrating new features from this summer](https://github.com/poliastro/poliastro/pull/428).

## Conclusion
So, as you can see, quite some work has been done and I got really tired :) However, I want to thank Juan Luis for his continuous assessment and support, for teaching me right code structuring and using github. Juan Luis was always ready to help and save me from any bugs, which made all these contributions possible. This was a real experience and I am happy that I agreed to take part in it :) Now one can plot, for instance, evolution of planet orbits and classical elements over time!
![Decay of orbit due to atmospheric drag](https://docs.poliastro.space/en/latest/_images/examples_Natural_and_artificial_perturbations_5_1.png)